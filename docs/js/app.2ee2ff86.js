(function(t){function e(e){for(var n,r,o=e[0],l=e[1],c=e[2],d=0,f=[];d<o.length;d++)r=o[d],a[r]&&f.push(a[r][0]),a[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],n=!0,o=1;o<s.length;o++){var l=s[o];0!==a[l]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=s[0]))}return t}var n={},a={app:0},i=[];function r(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=n,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(s,n,function(e){return t[e]}.bind(null,n));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/demo.statusbrah/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var n=s("64a9"),a=s.n(n);a.a},3675:function(t,e,s){"use strict";var n=s("f777"),a=s.n(n);a.a},"46ef":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var n=s("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("el-container",{staticClass:"customContainer"},[n("el-header",{staticStyle:{"margin-top":"20px"}},[n("img",{staticStyle:{height:"80%"},attrs:{src:s("cf05")}})]),n("el-main",[n("Alert",{staticStyle:{"padding-bottom":"20px"},attrs:{status:t.status.status,message:t.status.message}}),n("SystemsList",{staticStyle:{"padding-bottom":"10px"},attrs:{systems:t.systems}}),n("h1",[t._v("Incidents")]),n("Timeline",{attrs:{incidents:t.incidents}})],1),n("el-footer",[t._v("\n        Powered by "),n("a",{attrs:{href:"https://github.com/Westh/statusbrah"}},[t._v("statusbrah.")])])],1)],1)},i=[],r=(s("7514"),s("ac6a"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Alert"},["success"===t.status?s("el-alert",{attrs:{title:t.successTitle,type:"success","show-icon":"",effect:"dark",closable:!1,center:""}}):t._e(),"info"===t.status?s("el-alert",{attrs:{title:t.infoTitle,type:"info","show-icon":"",effect:"dark",closable:!1,center:""}}):t._e(),"maintenance"===t.status?s("el-alert",{staticStyle:{background:"#409eff"},attrs:{title:t.maintenanceTitle,"show-icon":"",effect:"dark",closable:!1,center:""}}):t._e(),"warning"===t.status?s("el-alert",{attrs:{title:t.warningTitle,type:"warning","show-icon":"",effect:"dark",closable:!1,center:""}}):t._e(),"error"===t.status?s("el-alert",{attrs:{title:t.errorTitle,type:"error","show-icon":"",effect:"dark",closable:!1,center:""}}):t._e()],1)}),o=[],l={name:"Alert",props:["status","message"],data:function(){return{successTitle:this.message||"Everything is operational.",infoTitle:this.message||"Remember to pass a message dude!",maintenanceTitle:this.message||"System is undergoing maintenance.",warningTitle:this.message||"Some or all systems has degraded performance.",errorTitle:this.message||"Some or all systems are down or are in a critical state."}}},c=l,u=(s("3675"),s("2877")),d=Object(u["a"])(c,r,o,!1,null,"38bff520",null),f=d.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"SystemsList"},[s("el-card",t._l(t.systems,function(e,n){return s("el-card",{key:n,class:t.getClass(n),attrs:{shadow:"never"}},[t._v("\n      "+t._s(e.title)+"\n      "),s("div",{staticClass:"statusIndication",style:t.getColor(e.status)},["success"===e.status?s("div",{staticClass:"iconText"},[t._v("\n          Operational\n        ")]):t._e(),"warning"===e.status?s("div",{staticClass:"iconText"},[t._v("\n          Performance degraded\n        ")]):t._e(),"error"===e.status?s("div",{staticClass:"iconText"},[t._v("\n          Critical\n        ")]):t._e(),"maintenance"===e.status?s("div",{staticClass:"iconText"},[t._v("\n          Under maintenance\n        ")]):t._e(),"maintenance"===e.status?s("i",{staticClass:"el-icon-s-order",staticStyle:{"font-size":"20px"}}):s("i",{class:"el-icon-"+e.status,staticStyle:{"font-size":"20px"}})])])}),1)],1)},m=[],g={name:"SystemsList",props:["systems"],methods:{getClass:function(t){return"innerCard"+(t!==this.systems.length-1?" upperCard":"")},getColor:function(t){var e="";return"success"===t&&(e+="color: #67c23a;"),"warning"===t&&(e+="color: #e6a23c;"),"error"===t&&(e+="color: #f56c6c"),"maintenance"===t&&(e+="color: #409eff"),e}}},y=g,v=(s("9708"),Object(u["a"])(y,p,m,!1,null,"787f65ec",null)),h=v.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"block"},[s("el-timeline",t._l(t.dates,function(e,n){return s("el-timeline-item",{key:n,attrs:{size:"large",timestamp:e.text,placement:"top"}},[t.incidents.find(function(t){return t.date===e.value})?s("el-card",{staticStyle:{"margin-top":"15px"}},[s("h4",{staticStyle:{display:"inline-block","margin-top":"6px"}},[t._v(t._s(t.incidents.find(function(t){return t.date===e.value}).title))]),s("div",{staticClass:"tagContainer"},t._l(t.incidents.find(function(t){return t.date===e.value}).targets,function(e,n){return s("el-tag",{key:n,staticClass:"tagSpacing",staticStyle:{"margin-right":"4px"},attrs:{type:t.getType(e.type),effect:"dark"}},[t._v("\n            "+t._s(e.system)+"\n          ")])}),1),s("p",[t._v(t._s(t.incidents.find(function(t){return t.date===e.value}).message))]),t.incidents.find(function(t){return t.date===e.value}).update?s("div",[s("el-divider"),s("h4",{staticStyle:{display:"inline-block","margin-top":"6px"}},[t._v("Update.")]),s("p",[t._v(t._s(t.incidents.find(function(t){return t.date===e.value}).update.message))])],1):t._e(),t.incidents.find(function(t){return t.date===e.value}).partialResolve?s("div",[s("el-divider"),s("h4",{staticStyle:{display:"inline-block","margin-top":"6px"}},[t._v("Partially resolved.")]),s("div",{staticClass:"tagContainer"},t._l(t.incidents.find(function(t){return t.date===e.value}).partialResolve.targets,function(e,n){return s("el-tag",{key:n,staticClass:"tagSpacing",attrs:{type:t.getType(e.type),effect:"dark"}},[t._v("\n              "+t._s(e.system)+"\n            ")])}),1),s("p",[t._v(t._s(t.incidents.find(function(t){return t.date===e.value}).partialResolve.message))])],1):t._e(),t.incidents.find(function(t){return t.date===e.value}).resolve?s("div",[s("el-divider"),s("h4",{staticStyle:{display:"inline-block","margin-top":"6px"}},[t._v("Resolved.")]),s("p",[t._v(t._s(t.incidents.find(function(t){return t.date===e.value}).resolve.message))])],1):t._e()]):s("h3",{staticStyle:{color:"#6a737d"}},[t._v("No incidents reported.")])],1)}),1)],1)},w=[],_=(s("28a5"),{name:"Timeline",props:["incidents"],data:function(){return{dates:[]}},methods:{getLastWeek:function(){for(var t=new Date,e={weekday:"short",year:"numeric",month:"long",day:"numeric"},s=0;s<7;s++){var n=new Date;n.setDate(t.getDate()-s);var a=n.toLocaleDateString("en-AU",e),i=n.toISOString().split("T")[0];this.dates.push({text:a,value:i})}},getType:function(t){return"error"===t?"danger":"maintenance"===t?"":t}},mounted:function(){this.getLastWeek()}}),S=_,x=(s("ab37"),Object(u["a"])(S,b,w,!1,null,"1cdb04c4",null)),k=x.exports,T=[{title:"Website"},{title:"Billing"},{title:"Network"},{title:"API"}],O=[{title:"Network outage in Europe.",message:"We have been informed that there are outages, we are working on it.",date:(new Date).toISOString().split("T")[0],targets:[{system:"API",type:"warning"},{system:"Billing",type:"error"},{system:"Network",type:"warning"}],partialResolve:{message:"We have resolved the API system, work is still ongoing.",targets:[{system:"API",type:"success"},{system:"Network",type:"success"}]}},{title:"Planned maintenance.",message:"We are doing a scheduled maintenance of all systems.",date:new Date((new Date).setDate((new Date).getDate()-2)).toISOString().split("T")[0],targets:[{system:"Website",type:"maintenance"},{system:"Billing",type:"maintenance"},{system:"Network",type:"maintenance"},{system:"API",type:"maintenance"}],update:{message:"Things are getting better, but we are still working. ETA on partial resolve 2h."},partialResolve:{message:"We have resolved the website and billing system. Maintenance of the last two items might go on till next week.",targets:[{system:"Website",type:"success"},{system:"Billing",type:"success"}]}},{title:"Website down due to hosting service.",message:"Our provider is experiencing problems.",date:new Date((new Date).setDate((new Date).getDate()-6)).toISOString().split("T")[0],targets:[{system:"Website",type:"error"}],resolve:{message:"They fixed their shit, so we are up and running again."}},{title:"Should not show!",message:"Our provider is experiencing problems.",date:new Date((new Date).setDate((new Date).getDate()-7)).toISOString().split("T")[0],targets:[{system:"Website",type:"warning"}],resolve:{}}],C={name:"app",components:{Alert:f,SystemsList:h,Timeline:k},data:function(){return{info:!1,statusPriority:["success","maintenance","warning","error"],status:{status:"",message:""},incidents:O,systems:T}},methods:{getSystems:function(){var t=this;return new Promise(function(e){t.incidents.forEach(function(e){t.systems.forEach(function(s){var n=e.targets.some(function(t){return t.system===s.title}),a=!1;e.partialResolve&&(a=e.partialResolve.targets.some(function(t){return t.system===s.title}));var i=e.resolve,r=e.targets.find(function(t){return t.system===s.title})?e.targets.find(function(t){return t.system===s.title}).type:"success",o=t.statusPriority.indexOf(r)>t.statusPriority.indexOf(s.status);n&&!a&&!i&&o?s.status=r:o&&(s.status="success")})}),e()})},getStatus:function(){var t=this;this.status.status="success",this.systems.forEach(function(e){t.statusPriority.indexOf(e.status)>t.statusPriority.indexOf(t.status.status)?t.status.status=e.status:t.info&&(t.status.status="info")})}},beforeMount:function(){this.getSystems().then(this.getStatus)}},D=C,P=(s("034f"),Object(u["a"])(D,a,i,!1,null,null,null)),W=P.exports,j=s("5c96"),I=s.n(j),A=(s("c69f"),s("b2d6")),E=s.n(A);n["default"].use(I.a,{locale:E.a}),n["default"].config.productionTip=!1,new n["default"]({render:function(t){return t(W)}}).$mount("#app")},6000:function(t,e,s){},"64a9":function(t,e,s){},9708:function(t,e,s){"use strict";var n=s("46ef"),a=s.n(n);a.a},ab37:function(t,e,s){"use strict";var n=s("6000"),a=s.n(n);a.a},c69f:function(t,e,s){},cf05:function(t,e,s){t.exports=s.p+"img/logo.900bf76c.png"},f777:function(t,e,s){}});
//# sourceMappingURL=app.2ee2ff86.js.map